<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="header-content">
        <div class="logo-and-title">
          <img src="../assets/icons/icon128.png" alt="Claude Annotations" class="header-logo">
          <div class="title-section">
            <h1 class="title">Claude Annotations</h1>
            <p class="subtitle" id="current-route"></p>
          </div>
        </div>
        <button id="settings-btn" class="icon-btn" title="Settings">
          <iconify-icon icon="heroicons-outline:cog-6-tooth" width="16" height="16"></iconify-icon>
        </button>
      </div>
    </header>
    
    <main class="main">
      <!-- Welcome Screen (when offline) -->
      <div id="welcome-screen" class="welcome-screen" style="display: none;">
        <div class="welcome-content">
          <div class="welcome-icon">
            <iconify-icon icon="heroicons:server" width="32" height="32"></iconify-icon>
          </div>
          <h2 class="welcome-title">Start the Claude Annotations MCP</h2>
          <p class="welcome-text">
            You're nearly there, start or <a href="#" target="_blank" class="highlight-link">download the latest MCP package</a> and double-click it to let Claude read and work with your annotations.
          </p>
        </div>
      </div>

      <!-- Ready Screen (when online with no annotations) -->
      <div id="ready-screen" class="ready-screen" style="display: none;">
        <div class="ready-content">
          <div class="ready-icon">
            <iconify-icon icon="heroicons:rocket-launch" width="32" height="32"></iconify-icon>
          </div>
          <h2 class="ready-title">Ready for your annotations</h2>
          <p class="ready-text">
            Click the button below to launch inspection mode and add annotations for Claude.
          </p>
        </div>
      </div>

      <!-- Annotations List -->
      <div id="annotations-list" class="annotations-list"></div>
    </main>
    
    <footer class="footer">
      <div class="footer-content">
        <button id="new-annotation-btn" class="primary-btn">
          <iconify-icon icon="lucide:plus" width="16" height="16"></iconify-icon>
          Start Annotating
        </button>
        <div id="mcp-status" class="mcp-status" title="MCP Connection Status">
          <div class="status-indicator offline"></div>
          <span class="status-text">MCP</span>
        </div>
      </div>
    </footer>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal-overlay" style="display: none;">
      <div class="modal">
        <div class="modal-header">
          <h3>Settings</h3>
          <button id="close-settings" class="icon-btn">
            <iconify-icon icon="lucide:x" width="16" height="16"></iconify-icon>
          </button>
        </div>
        <div class="modal-content">
          <div class="setting-group">
            <label for="theme-select">Theme</label>
            <select id="theme-select" class="theme-select">
              <option value="system">System</option>
              <option value="light">Light</option>
              <option value="dark">Dark</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="iconify-icon.min.js"></script>
  <script src="themes.js"></script>
  <script src="popup.js"></script>
</body>
</html>
